# test_plant.py ğŸŒ»
#
# ğŸ§ª Unit test for QuantumHouseplant â€” the quantum bio-sensor organ.
# Validates:
#   - Initialization of vibrational modes
#   - Squeezing detection
#   - Squeezebox input registration
#   - Basic logging

from qsoul.organs.photosynthos import QuantumHouseplant

# ğŸŒ¿ Initialize the plant
print("ğŸª´ Initializing QuantumHouseplant...")
plant = QuantumHouseplant(node_id="POthos_001", species="Epipremnum aureum")

# ğŸ” First scan: should show no squeezing (or random thermal squeezing)
print("\n1ï¸âƒ£ Scanning for natural quantum squeezing...")
anomalies = plant.scan_for_squeezing()

# ğŸª— Simulate intentional actuation: human plays squeezebox
print("\nğŸª— Applying intentional squeeze input...")
plant.register_squeeze_input(
    player_id="Maestro-01",
    intensity=0.85,
    note="C#"
)

# ğŸ” Second scan: should show induced squeezing
print("\n2ï¸âƒ£ Scanning after squeeze input...")
anomalies_after = plant.scan_for_squeezing()

# ğŸ“Š Print final status
print("\nğŸ“Š Final Biosensor Status:")
status = plant.get_status()
for key, val in status.items():
    if val is not None:
        print(f"  {key}: {val}")

# âœ… Success
print("\nâœ… Test complete. The plant is alive and responsive.")   

